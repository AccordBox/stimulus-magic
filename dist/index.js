var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function r(t){return t.replace(/(?:[_-])([a-z0-9])/g,((t,e)=>e.toUpperCase()))}function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t,e){const r=i(t);return Array.from(r.reduce(((t,r)=>(function(t,e){const r=t[e];return Array.isArray(r)?r:[]}(r,e).forEach((e=>t.add(e))),t)),new Set))}function i(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function c(t){return t.reduce(((t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r})),{})}function a([t,e],n){return function(t){const e=`${function(t){return t.replace(/([A-Z])/g,((t,e)=>`-${e.toLowerCase()}`))}(t.token)}-value`,n=function(t){const e=function(t){const e=u(t.typeObject.type);if(!e)return;const r=s(t.typeObject.default);if(e!==r){throw new Error(`The specified default value for the Stimulus Value "${t.controller?`${t.controller}.${t.token}`:t.token}" must match the defined type "${e}". The provided default value of "${t.typeObject.default}" is of type "${r}".`)}return e}({controller:t.controller,token:t.token,typeObject:t.typeDefinition}),r=s(t.typeDefinition),n=u(t.typeDefinition),o=e||r||n;if(o)return o;throw new Error(`Unknown value type "${t.controller?`${t.controller}.${t.typeDefinition}`:t.token}" for "${t.token}" value`)}(t);return{type:n,key:e,name:r(e),get defaultValue(){return function(t){const e=u(t);if(e)return l[e];const r=t.default;return void 0!==r?r:t}(t.typeDefinition)},get hasCustomDefaultValue(){return void 0!==s(t.typeDefinition)},reader:f[n],writer:p[n]||p.default}}({controller:n,token:t,typeDefinition:e})}function u(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function s(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(t)?"array":"[object Object]"===Object.prototype.toString.call(t)?"object":void 0}t.d(e,{t:()=>x,l:()=>C}),"function"==typeof Object.getOwnPropertySymbols||Object.getOwnPropertyNames,(()=>{function t(t){function e(){return Reflect.construct(t,arguments,new.target)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return function(){const e=t((function(){this.a.call(this)}));e.prototype.a=function(){},new e}(),t}catch(t){return t=>class extends t{}}})(),Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},c("abcdefghijklmnopqrstuvwxyz".split("").map((t=>[t,t])))),c("0123456789".split("").map((t=>[t,t]))));const l={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},f={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${s(e)}"`);return e},boolean:t=>!("0"==t||"false"==String(t).toLowerCase()),number:t=>Number(t),object(t){const e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${s(e)}"`);return e},string:t=>t},p={default:function(t){return`${t}`},array:d,object:d};function d(t){return JSON.stringify(t)}class g{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:r={},prefix:n=this.identifier,bubbles:o=!0,cancelable:i=!0}={}){const c=new CustomEvent(n?`${n}:${t}`:t,{detail:r,bubbles:o,cancelable:i});return e.dispatchEvent(c),c}}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function w(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,c,a=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $(t){return t.replace(/([A-Z])/g,(function(t,e){return"-".concat(e.toLowerCase())}))}g.blessings=[function(t){return o(t,"classes").reduce(((t,e)=>{return Object.assign(t,{[`${r=e}Class`]:{get(){const{classes:t}=this;if(t.has(r))return t.get(r);{const e=t.getAttributeName(r);throw new Error(`Missing attribute "${e}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${n(r)}Class`]:{get(){return this.classes.has(r)}}});var r}),{})},function(t){return o(t,"targets").reduce(((t,e)=>{return Object.assign(t,{[`${r=e}Target`]:{get(){const t=this.targets.find(r);if(t)return t;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${n(r)}Target`]:{get(){return this.targets.has(r)}}});var r}),{})},function(t){const e=function(t,e){return i(t).reduce(((t,r)=>(t.push(...function(t,e){const r=t[e];return r?Object.keys(r).map((t=>[t,r[t]])):[]}(r,e)),t)),[])}(t,"values"),r={valueDescriptorMap:{get(){return e.reduce(((t,e)=>{const r=a(e,this.identifier),n=this.data.getAttributeNameForKey(r.key);return Object.assign(t,{[n]:r})}),{})}}};return e.reduce(((t,e)=>Object.assign(t,function(t,e){const r=a(t,void 0),{key:o,name:i,reader:c,writer:u}=r;return{[i]:{get(){const t=this.data.get(o);return null!==t?c(t):r.defaultValue},set(t){void 0===t?this.data.delete(o):this.data.set(o,u(t))}},[`has${n(i)}`]:{get(){return this.data.has(o)||r.hasCustomDefaultValue}}}}(e))),r)},function(t){return o(t,"outlets").reduce(((t,e)=>Object.assign(t,function(t){const e=function(t){return r(t.replace(/--/g,"-").replace(/__/g,"_"))}(t);return{[`${e}Outlet`]:{get(){const e=this.outlets.find(t);if(e){const r=this.application.getControllerForElementAndIdentifier(e,t);if(r)return r;throw new Error(`Missing "data-controller=${t}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${t}" for "${this.identifier}" controller`)}},[`${e}Outlets`]:{get(){const e=this.outlets.findAll(t);return e.length>0?e.map((e=>{const r=this.application.getControllerForElementAndIdentifier(e,t);if(r)return r;console.warn(`The provided outlet element is missing the outlet controller "${t}" for "${this.identifier}"`,e)})).filter((t=>t)):[]}},[`${e}OutletElement`]:{get(){const e=this.outlets.find(t);if(e)return e;throw new Error(`Missing outlet element "${t}" for "${this.identifier}" controller`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${n(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}(e))),{})}],g.targets=[],g.outlets=[],g.values={};var A,E,P,S={prop:"magic",verbose:!0},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},S,e),n=r.prop,o=r.verbose;if(t[n]={targets:new window.Proxy(t,{get:function(t,e){var r,n,o="".concat(e,"Targets");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),target:new window.Proxy(t,{get:function(t,e){var r,n,o="".concat(e,"Target");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),hasTarget:new window.Proxy(t,{get:function(t,e){var r,n,o="has".concat(j(e),"Target");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),value:new window.Proxy(t,{get:function(t,e){var r,n,o="".concat(e,"Value");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0},set:function(t,e,r){return t["".concat(e,"Value")]=r}}),hasValue:new window.Proxy(t,{get:function(t,e){var r,n,o="has".concat(j(e),"Value");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),classes:new window.Proxy(t,{get:function(t,e){var r,n,o="".concat(e,"Classes");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),class:new window.Proxy(t,{get:function(t,e){var r,n,o="".concat(e,"Class");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}}),hasClass:new window.Proxy(t,{get:function(t,e){var r,n,o="has".concat(j(e),"Class");return null!==(r=null!==(n=t[o])&&void 0!==n?n:t.getItem(o))&&void 0!==r?r:void 0}})},o){for(var i=t.scope.identifier,c=0,a=Object.entries(t.constructor.targets||[]);c<a.length;c++){var u=m(a[c],2),s=(u[0],u[1]);console.log("".concat(i," target: data-").concat(i,"-").concat($(s)))}for(var l=0,f=Object.entries(t.constructor.values||[]);l<f.length;l++){var p=m(f[l],2),d=p[0];p[1],console.log("".concat(i," value: data-").concat(i,"-").concat($(d))),console.log("".concat(i," value changed: ").concat(d,"ValueChanged"))}for(var g=0,y=Object.entries(t.constructor.classes||[]);g<y.length;g++){var h=m(y[g],2),b=h[0];h[1],console.log("data-".concat(i,"-").concat($(b)))}}},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(i,g);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(n){var o=v(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t),C(b(e),e.constructor.magicOptions),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}();A=x,P=void 0,(E=w(E="magicOptions"))in A?Object.defineProperty(A,E,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[E]=P;var T=e.t,k=e.l;export{T as MagicController,k as useMagic};